<%- include('./partials/head') %>
<!-- inline css -->
<!-- Navbar section -->
<%- include('./partials/header') %>

<!-- This is left sidebar  -->
<%- include('./partials/left-sidebar') %>

<!-- This is right side section -->
<main class="main" id="main-content">
    <div class="base-section coustom-section">
        <!--DASHBOARD CONTENT START-->
        <div class="errorHtml"></div>
        <div class="breadcrumbs-container">
            <ul class="breadcrumb">
                <li class="breadcrumb-link">
                    <a href="<%- BASE_URL %>research"> Research </a>
                </li>
                <li class="breadcrumb-link">journal Paper </li>
            </ul>
        </div>
        <div>
            <div class="table-card-header text-uppercase d-flex align-items-center justify-content-between">
                <div>
                    <h5 class="pl-2">JOURNAL PAPER LIST</h5>
                </div>
                <div>
                    <button id="journal-paper-add-modal" type="button" class="btn btn-primary add-modal" data-toggle="modal"
                        data-target="#journal-paper-modal">
                        <i class="fas fa-plus plus"></i></button>
                    </button>
                </div>
            </div>
            <div class="card-body table-responsive">
                <div class="d-flex justify-content-between">
                    <div>
                        <label>Show Entries</label>
                        <select class="form-select" id="changeEntry">
                            <option value="5">5</option>
                            <option value="10">10</option>
                            <option value="25">25</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                            <option value="150">150</option>
                            <option value="200">200</option>
                            <option value="250">250</option>
                            <option value="300">300</option>
                            <option value="350">350</option>
                            <option value="400">400</option>
                            <option value="500">500</option>
                            <option value="800">800</option>
                            <option value="1000">1000</option>
                        </select>
                    </div>
                    <div>
                        <div class="table-searchbar-container">
                            <button type="button" id="searchBtn"><i class="fas fa-search"></i></button>
                            <input type="search" id="searchKeyword" placeholder="Enter keywords" class="table-searchbar">
                        </div>
                    </div>
                </div>
                <table class="table custom-table table-responsive research-pagination" id="journal-paper-list">
                    <thead>
                        <th class="col-lg-1">#</th>
                        <th class="col-lg-1">Year Of Publishing</th>
                        <th class="col-lg-1">School</th>
                        <th class="col-lg-1">Campus</th>
                        <th class="col-lg-1">Policy Cadre</th>
                        <th class="col-lg-1">Publisher</th>
                        <!-- <th class="col-lg-1">Names Of All Authors</th> -->
                        <th class="col-lg-1">Total No. of Authors</th>
        
                        <th class="col-lg-1">Names of NMIMS Authors</th>
                        <th class="col-lg-1">Journal Name</th>
                        <th class="col-lg-1">Action</th>
                    </thead>
                    <% journalData .forEach(function(journalPaper,index) { %>
                        <tr scope="row" data-count-other-faculty="<%- journalPaper.count_other_faculty %>"
                            data-nmims-author-count="<%- journalPaper.nmims_authors_count %>"
                            data-pages="<%- journalPaper.pages %>" data-issn-no="<%- journalPaper.issn_no %>"
                            data-scs-cite-score="<%- journalPaper.scs_cite_score %>"
                            data-impact-factor="<%- journalPaper.impact_factor %>"
                            data-scs-indexed="<%- journalPaper.scs_indexed %>"
                            data-wos-indexed="<%- journalPaper.wos_indexed %>"
                            data-title-of-paper="<%- journalPaper.title_of_paper %>"
                            data-abdc-indexed="<%- journalPaper.abdc_indexed %>"
                            data-ugc-indexed="<%- journalPaper.ugc_indexed %>"
                            data-web-link-number="<%- journalPaper.web_link_doi_number %>"
                            data-date-of-publishing="<%- journalPaper.date_of_publishing %>"
                            data-journal-category="<%- journalPaper.journal_category %>"
                            data-nmims-authors-count="<%- journalPaper. nmims_authors_count %>"
                            data-all-authors="<%- journalPaper.all_authors  %>">
                            <td class="" id="row-count"> <%- index + 1 %> </td>
                            <td class="year col-lg-1"> <%- journalPaper.year %> </td>
                            <td class="school col-lg-1"> <%- journalPaper.school_name %> </td>
                            <td class="campus col-lg-1"> <%- journalPaper.campus_name %> </td>
                            <td class="policy-cadre col-lg-1"><%- journalPaper.cadre_name %></td>
                            <td class="publisher col-lg-1"><%- journalPaper.publisher %></td>
                            <td class="total-authors col-lg-1"><%- journalPaper.total_authors %></td>
                            <td class="nmims-authors col-lg-1"><%- journalPaper.faculty_name %></td>
                            <td class="journal-name col-lg-1"><%- journalPaper.journal_name %></td>
                            <td class="col-lg-1">
                                <label class=" view" data-journalPaper-id="<%- journalPaper.article_id %>"><i
                                        class="fa-solid fa-eye view text-danger"
                                        data-journalPaper-id="<%- journalPaper.article_id %>"></i></label>
                                <label class="edit" data-journalPaper-id="<%- journalPaper.article_id %>"><i
                                        class="fa fa-edit edit text-danger"
                                        data-journalPaper-id="<%- journalPaper.article_id %>"></i></label>
                                <label class="delete" data-journalPaper-id="<%- journalPaper.article_id %>"><i
                                        class="fa-solid fa-trash delete text-danger"
                                        data-journalPaper-id="<%- journalPaper.id %>"></i></label>
                            </td>
                        </tr>
                        <% }); %>
                </table>
                <div class="d-flex justify-content-between">
                    <div>
                        <label id="total-row-count">Total entries : <%- rowCount %> </label>
                        <label class="d-none" id="row-count"> <%- rowCount %></label>
                    </div>
                    <div>
                        <button id="prevBtn" class="btn btn-primary">Previous</button>
                        <button id="nextBtn" class="btn btn-primary">Next</button>
                        <p id="pagination" class="pagination-search"></p>
                    </div>
                </div>
            </div>
        </div>
        <!--Import Modal -->
        <div class="modal fade" id="open-program-modal" tabindex="-1" aria-labelledby="open-program-modal"
            aria-hidden="true">
        </div>
        <!-- EDIT PROGRAM AND UPDATE -->
        <div class="modal fade" id="edit-program-modal" tabindex="-1" aria-labelledby="editModalLabel"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-scrollable modal-lg modal-fullscreen p-5">
                <div class="modal-content modal-content-data">
                    <div class="modal-header">
                        <div class="modal-title" id="editModalLabel">Update Program</div>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div id="errorHtml"></div>
                    <div class="modal-body">
                        <div class="mb-3">
                            <label for="exampleInputEmail1" class="form-label">Program Name</label>
                            <input type="text" class="form-control" id="program_name" name="program_name">
                            <input type="hidden" class="form-control" id="hidden_id" name="hidden_id">
                        </div>
                        <div class="mb-3">
                            <label for="exampleInputPassword1" class="form-label">Program Type</label>
                            <select class="form-control" name="program_type_lid" id="program_type_lid">
                                <option value="1">Full Time</option>
                                <option value="2">Part Time</option>
                            </select>
                        </div>

                        <div class="mb-3">
                            <label for="abbr" class="form-label">Program Abbr</label>
                            <input type="text" class="form-control" id="abbr" name="abbr">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- journal paper modal form  -->
<div class="modal fade " id="journal-paper-modal" tabindex="-1" role="dialog" aria-labelledby="journal-paper-modal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-lg modal-fullscreen p-5" role="document">
        <div class="modal-content modal-content-data validate-input">
            <div class="modal-header">
                <h4 class="modal-title" id="journal-paper-title">Journal Papers</h4>
                <div class="close" data-dismiss="modal" aria-label="Close">
                    <span type="button" aria-hidden="true"><i class="fas fa-times "></i></span>
                </div>
            </div>
            <div class="modal-body">
                <div class="row">
                    <!-- year -->
                    <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="year" class="form-label fw-bold">Year Of Publishing </label>
                        <input type="number" name="year" id="year" data-validate="isEmpty,isNumber,isValidYear" data-err-msg="Year is required." class="form-control"  required/>
                    </div>
                    <!-- nmims School-->
                    <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="nmims-school" class="form-label fw-bold">School</label>
                        <select class="select-option" id="nmims-school-list" data-validate="isEmpty,isExist" data-err-msg="This field is required and select value"  required multiple>
                            <option value="" >Select option</option>
                            <% nmimsSchoolList.forEach(function(school) { %>
                                <option value="<%= school.id %>">
                                   <%= school.name %>
                                </option>
                            <% }); %>
                        </select>
                    </div>

                    <!-- nmims campus -->
                     <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="nmims-campus" class="form-label fw-bold">Campus</label>
                        <select class="select-option" id="nmims-campus-list" data-validate="isEmpty,isExist" data-err-msg="This field is required and select value" required multiple>
                            <option value="" >Select option</option>
                            <% nmimsCampusList.forEach(function(campus) { %>
                                <option value="<%= campus.id %>">
                                   <%= campus.name %>
                                </option>
                            <% }); %>
                        </select>
                    </div>
                    <!-- Policy Cadre
                    <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="policyCadre" class="form-label fw-bold"> Policy Cadre </label>
                        <input type="text" name="policy-cadre" id="policy-cadre" data-validate="isEmpty,isNotNumber,isExist,isNotSpecialChar" data-err-msg="This field is required and min length > 1." class="form-control"
                             required />
                    </div> -->

                     <!-- Policy Cadre-->
                    <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="policy-cadre-list" class="form-label fw-bold">Policy Cadre</label>
                        <select class="select-option" id="policy-cadre-list" data-validate="isEmpty,isExist" data-err-msg="This field is required and select value"  required multiple>
                            <option value="" >Select option</option>
                            <% policyCadre.forEach(function(policy) { %>
                                <option value="<%= policy.id %>">
                                   <%= policy.name %>
                                </option>
                            <% }); %>
                        </select>
                    </div>
                    <!-- All authors -->
                    <!-- <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="all-authors" class="form-label fw-bold">Names Of All Authors</label>
                        <input type="text" name="all-authors" id="all-authors" data-validate="isEmpty,isNotNumber,isExist,isNotSpecialChar" data-err-msg="This field is required and min length > 1." class="form-control" required>
                    </div> -->
                    <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="all-author-list" class="form-label fw-bold">Names Of All Authors</label>
                        <select class="select-option" id="all-author-list" data-validate="isEmpty,isExist" data-err-msg="This field is required and select value"  required multiple>
                            <option value="" >Select option</option>
                            <% allAuthorList.forEach(function(author) { %>
                                <option value="<%= author.id %>">
                                   <%= author.name %>
                                </option>
                            <% }); %>
                        </select>
                    </div>
                    <!-- Total No. of Authors -->
                    <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="totalAuthors" class="form-label fw-bold">Total No. of Authors</label>
                        <input type="number" name="total-authors" id="total-authors" data-validate="isEmpty,isNumber" data-err-msg="Numeric value is required." class="form-control"
                            required>
                    </div>
                    <!-- Name of NMIMS Authors -->
                    <!-- <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="nmims-authors" class="form-label fw-bold">Names Of NMIMS Authors</label>
                        <input type="text" name="nmims-authors" id="nmims-authors" data-validate="isEmpty,isLength:2:255"  data-err-msg="This field is required and min length > 1." class="form-control"
                             required>
                    </div> -->
                    <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="nmims-faculty-list" class="form-label fw-bold">Names Of NMIMS Authors</label>
                        <select class="select-option" id="internal-faculty-list" data-validate="isEmpty,isExist" data-err-msg="This field is required and select value"  required multiple>
                            <option value="" >Select option</option>
                            <% internalEmpList.forEach(function(faculty) { %>
                                <option value="<%= faculty.id %>">
                                   <%= faculty.name %>
                                </option>
                            <% }); %>
                        </select>
                    </div>
                    <!-- No. of NMIMS Authors -->
                    <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="NMIMSAuthors" class="form-label fw-bold">No. of NMIMS Authors</label>
                        <input type="number" name="volumes" id="nmims-authors-count" data-validate="isEmpty,isNumber" data-err-msg="Numeric value is required." class="form-control"
                             required>
                    </div>
                    <!-- Journal Name -->
                    <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="journalName" class="form-label fw-bold">Journal Name</label>
                        <input type="text" name="journal-name" id="journal-name" data-validate="isEmpty,isLength:2:255" data-err-msg="This field is required and min length > 1." class="form-control"
                             required>
                    </div>

                    <!-- Name Of Foreign Authors
                    <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="foreign-authors" class="form-label fw-bold">Names Of Foreign Authors </label>
                        <input type="text" name="foreign-authors" id="foreign-authors" data-validate="isEmpty,isLength:2:255"  data-err-msg="This field is required and min length > 1." class="form-control"
                        required>
                    </div> -->
                    <!-- uid -->
                    <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="uid" class="form-label fw-bold">UID</label>
                        <input type="number" name="uid" id="uid" data-validate="isEmpty,isNumber" data-err-msg="Numeric value is required" class="form-control"
                             required>
                    </div>

                    <!-- Publisher -->
                    <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="publisher" class="form-label fw-bold"> Publisher </label>
                        <input type="text" name="publisher" id="publisher" data-validate="isEmpty,isNotNumber,isExist" data-err-msg="This field is required and min length > 1." class="form-control" required/>
                    </div>
                    <!-- Count of Other Faculty -->
                    <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="count-other-faculty" class="form-label fw-bold">Count of Other Faculty</label>
                        <input type="number" name="count-other-faculty" id="count-other-faculty"  data-validate="isEmpty,isNumber" data-err-msg="Numeric value is required." class="form-control" required/>
                    </div>
                    <!-- Vol,Issue,Page No -->
                    <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="page" class="form-label fw-bold">Vol,Issue,Page No.</label>
                        <input type="number" name="pages" id="pages" class="form-control" data-validate="isEmpty,isNumber" data-err-msg="Numeric value is required."  required>
                    </div>
                    <!-- ISSN No. -->
                    <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="issNo" class="form-label fw-bold">ISSN No.</label>
                        <input type="number" name="iss-no" id="issn-no" class="form-control" data-validate="isEmpty,isNumber" data-err-msg="Numeric value is required." required>
                    </div>
                    <!-- SCS Cite Score -->
                    <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="scs-cite-score" class="form-label fw-bold">Scopus Cite Score</label>
                        <input type="number" name="scsCiteScores" id="scs-cite-score" data-validate="isEmpty,isNumber" data-err-msg="Numeric value is required." class="form-control" required>
                    </div>
                    <!-- Impact Factor -->
                    <!-- <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="impact-factor" class="form-label fw-bold">Impact Factor As Per Clarivate Analytics </label>
                        <input type="text" name="impactFactors" id="impact-factor" data-validate="isEmpty,isNotNumber,isExist,isLength:2:255" data-err-msg="This field is required and min length > 1."   class="form-control" required>
                    </div> -->
                    <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="impact-factor-list" class="form-label fw-bold">Impact Factor</label>
                        <select class="select-option" id="impact-factor-list" data-validate="isEmpty,isExist" data-err-msg="This field is required and select value"  required multiple>
                            <option value="" >Select option</option>
                            <% impactFactor.forEach(function(factor) { %>
                                <option value="<%= factor.id %>">
                                   <%= factor.name %>
                                </option>
                            <% }); %>
                        </select>
                    </div>
                    <!-- Weblink-DOI Number -->
                    <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="web-link" class="form-label fw-bold">WEB Link DOI No.</label>
                        <input type="number" name="webLinks" id="web-link-num"  class="form-control" data-validate="isEmpty,isNumber" data-err-msg="Numeric value is required" required>
                    </div>
                    <!-- Names of NMIMS Student  Author-->
                    <!-- <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="names-nmims-student-author" class="form-label fw-bold">Names of NMIMS Student  Author</label>
                        <input type="text"  id="names-nmims-student-author" data-validate="isEmpty,isLength:2:255"  data-err-msg="This field is required and min length > 1." class="form-control"
                        required>
                    </div> -->
                    <!-- NO. OF NMIMS Student  Authors-->
                    <!-- <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="no-nmims-student-author" class="form-label fw-bold">NO. OF NMIMS Student  Authors</label>
                        <input type="number"  id="no-nmims-student-author" class="form-control" data-validate="isEmpty,isNumber" data-err-msg="Numeric value is required" required>
                    </div> -->
                    <!-- Date of Publishing -->
                    <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="date-of-publishing" class="form-label fw-bold">Date of Publishing</label>
                        <input type="date" name="dop" id="date-of-publishing" data-validate="isEmpty,isExist" data-err-msg="Date is required" class="form-control" required>
                    </div>
                    <!-- title-of-paper -->
                    <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="title-of-paper" class="form-label fw-bold">Title Of Paper</label>
                        <input type="text" name="dop" id="title-of-paper" data-validate="isEmpty,isNotNumber,isExist" data-err-msg="This is required field and min length > 1." class="form-control" required>                    
                    </div>
                     <!-- Research Journal Paper  -->
                     <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="journal-category" id="journal-category" class="form-label fw-bold mb-3">International/National Journal</label><br>
                        <div class="form-check-inline">
                            <label for="inter-national" class="form-check-label">
                                <input type="radio" class="form-check-input" id="inter-national" name="journal-category" value="International"> International
                            </label>
                        </div>
                        <div class="form-check-inline">
                            <label for="national" class="form-check-label">
                                <input type="radio" class="form-check-input" id="national" name="journal-category" value="National" checked> National
                            </label>
                        </div>
                    </div>
                      <!-- SCS Indexed -->
                      <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="scs-indexed" class="form-label fw-bold mb-3"> Scopus Indexed </label><br>
                        <div class="form-check-inline">
                            <label for="scopus-yes" class="form-check-label">
                                <input type="radio" class="form-check-input" id="scopus-yes" name="scopus-category" value="Yes"> Yes
                            </label>
                        </div>
                        <div class="form-check-inline">
                            <label for="scopus-no" class="form-check-label">
                                <input type="radio" class="form-check-input" id="scopus-no" name="scopus-category" value="No" checked> No
                            </label>
                        </div>
                    </div>
                    <!-- WoS Indexed -->
                    <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="wos-indexed" class="form-label fw-bold mb-3">WoS Indexed</label><br>
                        <div class="form-check-inline">
                            <label for="wos-index-yes" class="form-check-label">
                                <input type="radio" class="form-check-input" id="wos-index-yes" name="wos-index-category" value="Yes"> Yes
                            </label>
                        </div>
                        <div class="form-check-inline">
                            <label for="wos-index-no" class="form-check-label">
                                <input type="radio" class="form-check-input" id="wos-index-no" name="wos-index-category" value="No" checked> No
                            </label>
                        </div>
                    </div>
                    <!-- GS Indexed -->
                    <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="gs-index" class="form-label fw-bold">GS Indexed</label>
                        <input type="number" name="gs-indexed" id="gs-indexed" data-validate="isEmpty,isNumber" data-err-msg="Numeric value is required" class="form-control" required>
                    </div>

                    <!-- ABDC Indexed -->
                    <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="gs-index" class="form-label fw-bold mb-3">ABDC Indexed</label><br>
                        <div class="form-check-inline">
                            <label for="abdc-index-yes" class="form-check-label">
                                <input type="radio" class="form-check-input" id="abdc-index-yes" name="abdc-index-category" value="Yes"> Yes
                            </label>
                        </div>
                        <div class="form-check-inline">
                            <label for="abdc-index-no" class="form-check-label">
                                <input type="radio" class="form-check-input" id="abdc-index-no" name="abdc-index-category" value="No" checked> No
                            </label>
                        </div>
                    </div>
                    <!-- UGC Indexed -->
                    <div class="form-group col-lg-4 col-md-6 col-sm-12 mb-4">
                        <label for="ugc-indexed" class="form-label fw-bold mb-3">UGC Indexed</label><br>
                        <div class="form-check-inline">
                            <label for="ugc-index-yes" class="form-check-label">
                                <input type="radio" class="form-check-input" id="ugc-index-yes" name="ugc-index-category" value="Yes"> Yes
                            </label>
                        </div>
                        <div class="form-check-inline">
                            <label for="ugc-index-no" class="form-check-label">
                                <input type="radio" class="form-check-input" id="ugc-index-no" name="ugc-index-category" value="No" checked> No
                            </label>
                        </div>
                    </div>
                      <!-- Upload Supporting Documents-->
                      <div class="form-group col-lg-6 col-md-8 col-sm-12 mb-4">
                        <div class="col-lg-6 col-md-8 col-sm-12">
                            <label for="supporting-documents" class="form-label fw-bold ">
                                Upload Supporting Documents
                            </label>
                            <div class="d-flex">
                                <input type="file" name="journal-article-documents" id="journal-article-documents"
                                    class="col-md-12 form-control" data-validate="isEmpty,isExist,isFile" data-err-msg="File is required." required multiple>
                                    <button class="download-btn download-file" id="journal-data-file-edit"><i class="fas fa-download text-danger"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal" id="close-btn">Close</button>
                <button type="button" class="btn btn-primary d-none" id="submit-btn">Submit</button>
                <button type="button" class="btn btn-primary d-none " id="update-btn">Update</button>
            </div>
        </div>
    </div>
</div>
<!-- modal form for view -->
<div class="modal fade " id="journal-paper-modal-view" tabindex="-1" role="dialog" aria-labelledby="journal-paper-modal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-lg modal-fullscreen p-5" role="document">
        <div class="modal-content modal-content-data">
            <div class="modal-header">
                <h4 class="modal-title" id="journal-paper-title">Journal Papers</h4>
                <div class="close" data-dismiss="modal" aria-label="Close">
                    <span type="button" aria-hidden="true"><i class="fas fa-times "></i></span>
                </div>
            </div>
            <div class="modal-body">
                <div class="row">
                    <!-- Year -->
                    <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">Year:</div>
                            <label class="view-content" id="view-year"></label>
                        </div>
                    </div>
                    <!-- school -->
                    <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">School:</div>
                            <label class="view-content" id="view-school"></label>
                        </div>
                    </div>
                    <!-- Campus -->
                    <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">Campus:</div>
                            <label class="view-content" id="view-campus"></label>
                        </div>
                    </div>
                    <!--Policy Cadre -->
                    <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">Policy Cadre:</div>
                            <label class="view-content" id="view-policy-cadre"></label>
                        </div>
                    </div>
                    <!-- All authors -->
                    <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">All authors:</div>
                            <label class="view-content" id="view-all-authors"></label>
                        </div>
                    </div>
                    <!-- Total No. of Authors -->
                    <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">Total No. of Authors:</div>
                            <label class="view-content" id="view-total-authors"></label>
                        </div>
                    </div>
                    <!-- Name of NMIMS Authors -->
                    <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">Name Of NMIMS Authors:</div>
                            <label class="view-content" id="view-nmims-authors"></label>
                        </div>
                    </div>
                    <!-- Journal Name -->
                    <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">Journal Name:</div>
                            <label class="view-content" id="view-journal-name"></label>
                        </div>
                    </div>
                    <!-- Publisher -->
                    <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">Publisher:</div>
                            <label class="view-content" id="view-publisher"></label>
                        </div>
                    </div>
                    <!-- Count Faculty -->
                    <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">Count Other Faculty:</div>
                            <label class="view-content" id="view-count-of-other-faculty"></label>
                        </div>
                    </div>
                    <!-- iss -number -->
                    <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">ISSN No:</div>
                            <label class="view-content" id="view-issn-no"></label>
                        </div>
                    </div>
                    <!-- pages -->
                    <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">Pages:</div>
                            <label class="view-content" id="view-pages"></label>
                        </div>
                    </div>
                    <!-- Scs-cite-score -->
                    <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">Scopus Cite Score:</div>
                            <label class="view-content" id="view-scs-cite-score"></label>
                        </div>
                    </div>
                    <!-- impact-factor -->
                    <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">Impact Factor:</div>
                            <label class="view-content" id="view-impact-factor"></label>
                        </div>
                    </div>
                    <!--scs-indexed  category-->
                    <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">Scopus Indexed:</div>
                            <label class="view-content" id="view-scs-indexed-category"></label>
                        </div>
                    </div>
                    <!--wos-indexed -->
                    <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">Wos Indexed:</div>
                            <label class="view-content" id="view-wos-indexed-category"></label>
                        </div>
                    </div>
                    <!--NAMES OF FOREIGN AUTHORS-->
                    <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">Name Of Foreign Authors:</div>
                            <label class="view-content" id="view-foreign-authors"></label>
                        </div>
                    </div>

                       <!--Names of NMIMS Student  Author-->
                       <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">Names of NMIMS Student  Author:</div>
                            <label class="view-content" id="view-names-nmims-student-author"></label>
                        </div>
                    </div>

                       <!--NO. OF NMIMS Student  Authors-->
                       <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">NO. OF NMIMS Student  Authors:</div>
                            <label class="view-content" id="view-no-nmims-student-author"></label>
                        </div>
                    </div>
                    <!--abdc-indexed-->
                    <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">Abcd Indexed:</div>
                            <label class="view-content" id="view-abdc-indexed-category"></label>
                        </div>
                    </div>
                    <!--ugc-indexed -->
                    <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">Ugc Indexed:</div>
                            <label class="view-content" id="view-ugc-indexed-category"></label>
                        </div>
                    </div>
                    <!--web-link -->
                    <div class="col-lg-4 col-md-6  col-sm-12 p-3 web-link d-none">
                        <div class="box">
                            <div class="sub-title-text sub-title">Web Link DOI Number:</div>
                            <label class="view-content" id="view-web-link-doi-number"></label>
                        </div>
                    </div>
                    <!--NO. OF FOREIGN AUTHORS -->
                    <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">No Of Foreign Authors:</div>
                            <label class="view-content" id="view-foreign-authors-number"></label>
                        </div>
                    </div>
                    <!--date-of-publishing -->
                    <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">Date Of Publishing:</div>
                            <label class="view-content" id="view-date-of-publishing"></label>
                        </div>
                    </div>
                    <!--Title of Paper -->
                    <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">Title Of Paper :</div>
                            <label class="view-content" id="view-title-of-paper"></label>
                        </div>
                    </div>
                    <!--Research Journal Paper -->
                    <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">Research Journal Paper:</div>
                            <label class="view-content" id="view-journal-category"></label>
                        </div>
                    </div>
                    <!--nmims_authors_count -->
                    <div class="col-lg-4 col-md-6  col-sm-12 p-3">
                        <div class="box">
                            <div class="sub-title-text sub-title">NMIMS Authors Count :</div>
                            <label class="view-content" id="view-nmims-authors-count"></label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<!-- inline Javascript -->
<div id="employees-list-data" data-employees='<%- JSON.stringify(internalEmpList) %>' style="display: none;"></div>
<div id="school-data-list" data-school='<%- JSON.stringify(nmimsSchoolList) %>' style="display: none;"></div>
<div id="all-author-data-list" data-author='<%- JSON.stringify(allAuthorList) %>' style="display: none;"></div>
<div id="campus-data-list" data-campus='<%- JSON.stringify(nmimsCampusList) %>' style="display: none;"></div>
<div id="policy-cadre-data-list" data-policy='<%- JSON.stringify(policyCadre) %>' style="display: none;"></div>
<div id="impact-factor-data-list" data-factor='<%- JSON.stringify(impactFactor) %>' style="display: none;"></div>


<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tom-select/2.3.1/js/tom-select.complete.min.js" integrity="sha512-zdXqksVc9s0d2eoJGdQ2cEhS4mb62qJueasTG4HjCT9J8f9x5gXCQGSdeilD+C7RqvUi1b4DdD5XaGjJZSlP9Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


<script>
    //for index icrement
    
    let rowCount = document.getElementById('row-count');
    const totalRowCount = document.getElementById('total-row-count');
    let rowIndex = rowCount.innerText;
    let indexValue = parseInt(rowIndex, 10);

    const journalPaperModal = document.getElementById('journal-paper-modal');
    const journalPaperModalView = document.getElementById('journal-paper-modal-view');
    journalPaperModalView.style.display = 'none';
    const journalTable = document.getElementById('journal-paper-list');
    const submitBtn = document.getElementById('submit-btn');
    const updateBtn = document.getElementById('update-btn');
    const closeBtn = document.getElementById('close-btn');
    const journalPaperAddModal = document.getElementById('journal-paper-add-modal');
    const schoolDropDown = document.getElementById('nmims-school-list');
    const campusDropDown = document.getElementById('nmims-campus-list');
    const policyCadreDropDown = document.getElementById('policy-cadre-list');
    const impactFactorDropDown = document.getElementById('impact-factor-list');
    const internalFacultyDropDown = document.getElementById('internal-faculty-list');
    const allAuthorsDropDown = document.getElementById('all-author-list');
    let nmimsSchoolIdsContainer = [];
    let nmimsCampusIdsContainer = [];
    let policyCadreContainer = [];
    let impactFactorContainer = [];
    let facltyContainer = [];
    let allAuthorContainer = [];
    
    let rowToBeUpdated, journalPaperId;
    const doiLinkNumberClass = document.querySelector('.web-link');

    journalPaperAddModal.addEventListener('click', async function (event) {
        if (event.target.tagName === 'BUTTON' && event.target.classList.contains('add-modal') || event.target.classList.contains('plus')) {
            console.log('clicked');
            // for button visualization
            submitBtn.classList.remove('d-none');
            updateBtn.classList.add('d-none');
            // make input field empty
            document.getElementById('year').value = '';
            // document.getElementById('school').value = '';
            // document.getElementById('campus').value = '';
            // document.getElementById('policy-cadre').value = '';
            document.getElementById('publisher').value = '';
            // document.getElementById('all-authors').value = '';
            document.getElementById('total-authors').value = '';
            // document.getElementById('nmims-authors').value = '';
            document.getElementById('journal-name').value = '';
            document.getElementById('count-other-faculty').value = '';
            document.getElementById('pages').value = '';
            document.getElementById('issn-no').value = '';
            document.getElementById('scs-cite-score').value = '';
            document.getElementById('journal-article-documents').value = '';
            // document.getElementById('scs-indexed').value = '';
            // document.getElementById('wos-indexed').value = '';
            // document.getElementById('gs-indexed').value = '';
            // document.getElementById('abdc-indexed').value = '';
            // document.getElementById('ugc-indexed').value = '';
            document.getElementById('web-link-num').value = '';
            document.getElementById('uid').value = '';
            document.getElementById('date-of-publishing').value = '';
            document.getElementById('title-of-paper').value = '';
            nmimsSchoolIdsContainer = [];
            nmimsCampusIdsContainer = [];
            policyCadreContainer = [];
            impactFactorContainer = [];
            facltyContainer = [];
            allAuthorContainer = [];
            // 
            document.getElementById('nmims-authors-count').value = '';
            // document.getElementById('names-nmims-student-author').value = '';
            // document.getElementById('no-nmims-student-author').value = '';
        }
    })

    const insertJournalPaper = async (url) => {
        // const year = document.getElementById('year')
        const journalDetails = new FormData();
        const year = document.getElementById('year').value;
        
        // journalDetails.school = document.getElementById('school').value;
        // journalDetails.campus = document.getElementById('campus').value;
        // journalDetails.policyCadre = document.getElementById('policy-cadre').value;
        const publisher = document.getElementById('publisher').value;
        // const allAuthors = document.getElementById('all-authors').value;
        const totalAuthors = document.getElementById('total-authors').value;
        // const nmimsAuthors = document.getElementById('nmims-authors').value;
        const journalName = document.getElementById('journal-name').value;
        // const foreignAuthors = document.getElementById('foreign-authors').value;
        // const nmimsStudentAuthors = document.getElementById('names-nmims-student-author').value;
        // const countStudentAuthors = document.getElementById('no-nmims-student-author').value;
        // const foreignAuthorsNumbers = document.getElementById('foreign-authors-number').value;
        const countOtherFaculty = document.getElementById('count-other-faculty').value;
        const pages = document.getElementById('pages').value;
        const issnNo = document.getElementById('issn-no').value;
        const scsCiteScore = document.getElementById('scs-cite-score').value;
        // const impactFactor = document.getElementById('impact-factor').value;
        // const scsIndexedCategory = document.getElementById('scs-indexed').value;
        const wosIndexedCategory = document.querySelector('input[name="wos-index-category"]:checked').value;
        const scsIndexedCategory = document.querySelector('input[name="scopus-category"]:checked').value;
        const abdcIndexedCategory = document.querySelector('input[name="abdc-index-category"]:checked').value;
        const ugcIndexedCategory = document.querySelector('input[name="ugc-index-category"]:checked').value;
        const webLinkNumber = document.getElementById('web-link-num').value;
        const uid = document.getElementById('uid').value;
        const dateOfPublishing = document.getElementById('date-of-publishing').value;
        const titleOfPaper = document.getElementById('title-of-paper').value;
        const journalCategory = document.querySelector('input[name="journal-category"]:checked').value;
        const nmimsAuthorsCount = document.getElementById('nmims-authors-count').value;

        const nmimsSchoolArrayObject = nmimsSchoolIdsContainer[nmimsSchoolIdsContainer.length - 1];
        const nmimsCampusArrayObject = nmimsCampusIdsContainer[nmimsCampusIdsContainer.length - 1];
        const nmimsFacultyArrayObject = facltyContainer[facltyContainer.length - 1];
        const allAuthorsArrayObject = allAuthorContainer[allAuthorContainer.length - 1];
        const impactFactorArrayObject = impactFactorContainer[impactFactorContainer.length - 1];
        const policyCadreArrayObject = policyCadreContainer[policyCadreContainer.length - 1];

        const nmimsSchoolIds = JSON.stringify(nmimsSchoolArrayObject);
        const nmimsCampusIds = JSON.stringify(nmimsCampusArrayObject);
        const nmimsFacultiesIds = JSON.stringify(nmimsFacultyArrayObject);
        const allAuthorsIds = JSON.stringify(allAuthorsArrayObject);
        const impactFactorIds = JSON.stringify(impactFactorArrayObject);
        const policyCadreIds = JSON.stringify(policyCadreArrayObject);

        // journal article documents
        const journalarticalDocuments = document.getElementById('journal-article-documents');
        const articlesfilesData = journalarticalDocuments.files;
        console.log('articlesfilesData ===>>>', articlesfilesData)
        for (let i = 0; i < articlesfilesData.length; i++) {
            console.log('file name  ==>>', articlesfilesData[i].name);
            journalDetails.append('articlesDocuments', articlesfilesData[i]);
        }

        journalDetails.append('year' , year);
        journalDetails.append('publisher' , publisher);
        journalDetails.append('totalAuthors', totalAuthors);
        journalDetails.append('journalName', journalName);
        journalDetails.append('countOtherFaculty', countOtherFaculty);
        journalDetails.append('pages', pages);
        journalDetails.append('issnNo', issnNo);
        journalDetails.append('scsCiteScore', scsCiteScore);
        // journalDetails.append('impactFactor', impactFactor);
        journalDetails.append('wosIndexedCategory', wosIndexedCategory);
        journalDetails.append('scsIndexedCategory', scsIndexedCategory);
        journalDetails.append('abdcIndexedCategory', abdcIndexedCategory);
        journalDetails.append('ugcIndexedCategory', ugcIndexedCategory);
        journalDetails.append('webLinkNumber', webLinkNumber);
        journalDetails.append('uid', uid);
        journalDetails.append('dateOfPublishing', dateOfPublishing);
        journalDetails.append('titleOfPaper', titleOfPaper);
        journalDetails.append('journalCategory', journalCategory);
        journalDetails.append('nmimsAuthorsCount', nmimsAuthorsCount);
        journalDetails.append('nmimsSchoolIds' , nmimsSchoolIds);
        journalDetails.append('nmimsCampusIds' , nmimsCampusIds);
        journalDetails.append('nmimsFacultiesIds', nmimsFacultiesIds);
		journalDetails.append('allAuthorsIds', allAuthorsIds);
		journalDetails.append('impactFactorIds', impactFactorIds);
		journalDetails.append('policyCadreIds', policyCadreIds);

        fetch(url, {
            method: 'POST',
            body: journalDetails
        })
        .then((result) => {
                return result.json()
        })
        .then((data) => {
                if (data.status === 'Done') {
                    console.log('data ===>>>', data);
                    journalPaperId = data.journalPaperId;
                    console.log('journalPaperId ==>', journalPaperId);
                    const rowCountInteger = parseInt(data.rowCount, 10);
                    const IndexEntry = rowCountInteger + indexValue;
                    indexValue = IndexEntry;
                    console.log('IndexEntry ===>>>', IndexEntry);
                    //insert new row to the journal_papers table 
                    const newJournalPaper = document.createElement('tr');
                    newJournalPaper.setAttribute('data-count-other-faculty', journalDetails.countOtherFaculty);
                    newJournalPaper.setAttribute('data-pages', journalDetails.pages);
                    newJournalPaper.setAttribute('data-issn-no', journalDetails.issnNo);
                    newJournalPaper.setAttribute('data-scs-cite-score', journalDetails.scsCiteScore);
                    newJournalPaper.setAttribute('data-impact-factor', journalDetails.impactFactor);
                    newJournalPaper.setAttribute('data-scs-indexed', journalDetails.scsIndexedCategory);
                    newJournalPaper.setAttribute('data-wos-indexed', journalDetails.wosIndexedCategory);
                    newJournalPaper.setAttribute('data-foreign-authors-count', journalDetails.foreignAuthorsNumbers);
                    newJournalPaper.setAttribute('data-abdc-indexed', journalDetails.abdcIndexedCategory);
                    newJournalPaper.setAttribute('data-ugc-indexed', journalDetails.ugcIndexedCategory);
                    newJournalPaper.setAttribute('data-web-link-number', journalDetails.webLinkNumber);
                    newJournalPaper.setAttribute('data-foreign-authors', journalDetails.foreignAuthors);
                    newJournalPaper.setAttribute('data-date-of-publishing', journalDetails.dateOfPublishing);
                    newJournalPaper.setAttribute('data-title-of-paper', journalDetails.titleOfPaper);
                    newJournalPaper.setAttribute('data-journal-category' , journalDetails.journalCategory);
                    newJournalPaper.setAttribute('data-nmims-author-count', journalDetails.nmimsAuthorsCount);
                    newJournalPaper.setAttribute('data-names-nmims-student-author' , journalDetails.nmimsStudentAuthors);
                    newJournalPaper.setAttribute('data-nmims-author-count', journalDetails.countStudentAuthors);
                    newJournalPaper.innerHTML = `
                            <td>${IndexEntry}</td>
                            <td class="year">${data.journalDetails.year}</td>
                            <td class="school">${journalDetails.school}</td>
                            <td class="campus">${journalDetails.campus}</td>
                            <td class="policy-cadre">${journalDetails.policyCadre}</td>
                            <td class="publisher">${data.journalDetails.publisher}</td>
                            <td class="all-authors">${journalDetails.allAuthors} </td>
                            <td class="total-authors">${data.journalDetails.totalAuthors}</td>
                            <td class="nmims-authors">${journalDetails.nmimsAuthors}</td>
                            <td class="journal-name">${data.journalDetails.journalName}</td>
                            <td>
                                <label class="view" data-journalPaper-id="${data.journalPaperId}"><i data-journalPaper-id="${journalPaperId}" class="fa-solid fa-eye view text-danger"></i></label>
                                <label class="edit"  data-journalPaper-id="${data.journalPaperId}"><i  data-journalPaper-id="${journalPaperId}" class="fa fa-edit edit text-danger"></i></label>
                                <label class="delete" data-journalPaper-id="${data.journalPaperId}"><i  data-journalPaper-id="${journalPaperId}" class="fa-solid fa-trash delete text-danger"></i></label>
                            </td>  ` ;
                    journalTable.appendChild(newJournalPaper);
                    $('#journal-paper-modal').modal('hide');
                    Swal.fire({
							position: "top-center",
							icon: "success",
							title: `${data.message}`,
							showConfirmButton: false,
							
						});
                    rowCount.classList.remove('d-none');
                    totalRowCount.classList.add('d-none');
                    rowCount.innerText = `Total entries : ${IndexEntry}`
                }
                else{
                    console.log('data in failed condition ====>>>>', data)
                    Swal.fire({
                        position: "top-center",
                        icon: "error",
                        title: "Failed To Insert",
                        color: "red",
                        with: "20PX",
                        showConfirmButton: false,
                    });  
                }
            }).catch((error) => {
                console.error("ERROR:", error);
                const message = "Internal Server Error";
                const errTitle = error
                Swal.fire({
                    position: "top-center",
                    icon: "error",
                    title: `${message}`,
                    color: "red",
                    with: "20PX",
                    html: `<span style="color: red;">${errTitle}</span>`,
                    showConfirmButton: false,
                }); 
            })
    };

    submitBtn.addEventListener('click', async () => {
        const isValid = validateRequiredFormFields(document.getElementById('submit-btn'));
        if (isValid) {
            await insertJournalPaper('<%- BASE_URL %>research/journal-paper/insert');
        }
        else {
            Swal.fire({
                position: "top-center",
                icon: "error",
                title: "Validation Failed",
                color: "red",
                showConfirmButton: false,
            });
        }
    });

    // for deleting
    journalTable.addEventListener('click', function (event) {

        if (event.target.classList.contains('delete')) {
            const journalPaperRowData = event.target.parentElement.parentElement.parentElement;
            const journalPaperId = event.target.getAttribute('data-journalPaper-id');
            console.log('journalPaperId for delete :', journalPaperId);
            // confirm  alert api for delete
            let confirmDelete = "Do you want to delete the Book  Publication?";
            if (confirmDelete) {
                Swal.fire({
                    title: "Are you sure?",
                    text: "You won't be able to revert this!",
                    icon: "warning",
                    showCancelButton: true,
                    confirmButtonColor: "#3085d6",
                    cancelButtonColor: "#d33",
                    confirmButtonText: "Yes, delete it!"
                }).then((result) => {
                    if (result.isConfirmed) {
                        // Execute fetch request here after confirmation
                        fetch('<%- BASE_URL %>research/journal-paper/delete', {
                            method: 'POST',
                            headers: {
                                'content-type': 'application/json'
                            },
                            body: JSON.stringify({ journalPaperId })
                        })
                            .then((result) => result.json())
                            .then((data) => {
                                if (data.status === 'Done') {
                                    console.log('data ==>>', data);
                                    // Assuming bookPublicatRowToBeDeleted is correctly defined earlier in your code
                                    journalPaperRowData.remove();
                                    Swal.fire({
                                        title: "Deleted!",
                                        text: "Record has been deleted.",
                                        icon: "success"
                                    }).then(() => {
                                        location.reload();
                                    });
                                }
                            })
                            .catch((error) => {
                                console.error('Error:', error);
                            });
                    }
                });
            }
            else {
                return
            } 
        }
        // for updating 
        if (event.target.classList.contains('edit')) {
            console.log('clicked')
            removeErrorMsg();
            $('#journal-paper-modal').modal('show');
            rowToBeUpdated = event.target.closest('tr');
            console.log('rowToBeUpdated ==>>', rowToBeUpdated)
            journalPaperId = event.target.getAttribute('data-journalPaper-id');
            console.log('journalPaperId ==>>', journalPaperId);
            // for button visualization
            submitBtn.classList.add('d-none');
            updateBtn.classList.remove('d-none');
            // Capturing  the specific row's data and journalPaper ID
            const year = rowToBeUpdated.querySelector('.year');
            console.log('year ==>>', year)
            const school = rowToBeUpdated.querySelector('.school');
            const campus = rowToBeUpdated.querySelector('.campus');
            const allAuthors = rowToBeUpdated.querySelector('.all-authors');
            const totalAuthors = rowToBeUpdated.querySelector('.total-authors');
            const nmimsAuthors = rowToBeUpdated.querySelector('.nmims-authors');
            const journalName = rowToBeUpdated.querySelector('.journal-name');
            const policyCadre = rowToBeUpdated.querySelector('.policy-cadre');
            const publisher = rowToBeUpdated.querySelector('.publisher');
            const countOtherFaculty = rowToBeUpdated.getAttribute('data-count-other-faculty');
            const titleOfPaper = rowToBeUpdated.getAttribute('data-title-of-paper');
            const pages = rowToBeUpdated.getAttribute('data-pages');
            const issnNo = rowToBeUpdated.getAttribute('data-issn-no');
            const dateOfPublishing = rowToBeUpdated.getAttribute('data-date-of-publishing');
            console.log('dateOfPublishing ==>>', dateOfPublishing);
            const formattedDate = formatDateToYYYYMMDD(dateOfPublishing);
            console.log('formattedDate ==>>', formattedDate);
            const impactFactor = rowToBeUpdated.getAttribute('data-impact-factor');
            const scsCiteScore = rowToBeUpdated.getAttribute('data-scs-cite-score');
            const wosIndexedCategory = rowToBeUpdated.getAttribute('data-wos-indexed');
            const foreignAuthorsNumbers = rowToBeUpdated.getAttribute('data-foreign-authors-count');
            const abdcIndexedCategory = rowToBeUpdated.getAttribute('data-abdc-indexed');
            const ugcIndexedCategory = rowToBeUpdated.getAttribute('data-ugc-indexed');
            const webLinkNumber = rowToBeUpdated.getAttribute('data-web-link-number');
            const foreignAuthors = rowToBeUpdated.getAttribute('data-foreign-authors');
            const nmimsStudentAuthors = rowToBeUpdated.getAttribute('data-names-nmims-student-author');
            console.log('nmimsStudentAuthors ===>>>', nmimsStudentAuthors)
            const countStudentAuthors = rowToBeUpdated.getAttribute('data-no-nmims-student-author');
            console.log('countStudentAuthors ===>>>>', countStudentAuthors)
            const scsIndexedCategory = rowToBeUpdated.getAttribute('data-scs-indexed');
            const nmimsAuthorsCount = rowToBeUpdated.getAttribute('data-nmims-author-count');
            const journalCategoryNational = document.getElementById('national');
            const journalCategoryInternational = document.getElementById('inter-national');
            const journalCategory = rowToBeUpdated.getAttribute('data-journal-category');
            const scsIndexedYes = document.getElementById('scopus-yes');
            const scsIndexedNo = document.getElementById('scopus-no');
            const abdcIndexedYes = document.getElementById('abdc-index-yes');
            const abdcIndexedNo = document.getElementById('abdc-index-no');
            const wosIndexedYes = document.getElementById('wos-index-yes');
            const wosIndexedNo = document.getElementById('wos-index-no');
            const ugcIndexedYes = document.getElementById('ugc-index-yes');
            const ugcIndexedNo = document.getElementById('ugc-index-no');
            // for displaying alredy stored value
            document.getElementById('year').value = year.innerText.trim();
            console.log('=====>>>>>', year.innerText.trim())
            document.getElementById('school').value = school.innerText.trim();
            document.getElementById('campus').value = campus.innerText.trim();
            document.getElementById('all-authors').value = allAuthors.innerText.trim();
            document.getElementById('publisher').value = publisher.innerText.trim();
            document.getElementById('nmims-authors').value = nmimsAuthors.innerText.trim();
            document.getElementById('journal-name').value = journalName.innerText.trim();
            document.getElementById('total-authors').value = totalAuthors.innerText.trim();
            document.getElementById('policy-cadre').value = policyCadre.innerText.trim();
            document.getElementById('count-other-faculty').value = countOtherFaculty.trim();
            document.getElementById('title-of-paper').value = titleOfPaper.trim();
            document.getElementById('pages').value = pages.trim();
            document.getElementById('issn-no').value = issnNo.trim();
            document.getElementById('date-of-publishing').value = formattedDate;
            document.getElementById('impact-factor').value = impactFactor.trim();
            document.getElementById('scs-cite-score').value = scsCiteScore.trim();
            document.getElementById('foreign-authors').value = foreignAuthors.trim();
            document.getElementById('web-link-num').value = webLinkNumber;
            document.getElementById('foreign-authors-number').value = foreignAuthorsNumbers.trim();
            document.getElementById('nmims-authors-count').value = nmimsAuthorsCount.trim();
            document.getElementById('names-nmims-student-author').value = nmimsStudentAuthors.trim();
            document.getElementById('no-nmims-student-author').value = countStudentAuthors.trim();
            console.log('nmimsAuthorsCount ==>>', nmimsAuthorsCount);
            // For journal category
            journalCategoryNational.checked = journalCategory === 'National';
            journalCategoryInternational.checked = journalCategory !== 'National';

            // For SCS indexed category
            scsIndexedYes.checked = scsIndexedCategory === 'Yes';
            scsIndexedNo.checked = scsIndexedCategory !== 'Yes'; 

            // For ABDC indexed category
            abdcIndexedYes.checked = abdcIndexedCategory === 'Yes';
            abdcIndexedNo.checked = abdcIndexedCategory !== 'Yes';

            // For WOS indexed category
            wosIndexedYes.checked = wosIndexedCategory === 'Yes';
            wosIndexedNo.checked = wosIndexedCategory !== 'Yes';

            // For UGC indexed category
            ugcIndexedYes.checked = ugcIndexedCategory === 'Yes';
            ugcIndexedNo.checked = ugcIndexedCategory !== 'Yes';

        }

        // for viewing record of journal paper
        if (event.target.classList.contains('view')) {
            console.log('clicked')
            journalPaperId = event.target.getAttribute('data-journalPaper-id');
            console.log('journalPaperId ==>>', journalPaperId)
            // updating value with actuall value
            const viewYear = document.getElementById('view-year');
            const viewSchool = document.getElementById('view-school');
            const viewCampus = document.getElementById('view-campus');
            const viewAllAuthors = document.getElementById('view-all-authors');
            const viewPublisher = document.getElementById('view-publisher');
            const viewNmimsAuthors = document.getElementById('view-nmims-authors');
            const viewJournalName = document.getElementById('view-journal-name');
            const viewTotalAuthors = document.getElementById('view-total-authors');
            const viewPolicyCadre = document.getElementById('view-policy-cadre');
            const viewCountFaculty = document.getElementById('view-count-of-other-faculty');
            const viewIssNo = document.getElementById('view-issn-no');
            const viewAbcdIndexedCategory = document.getElementById('view-abdc-indexed-category');
            const viewWebLinkNumber = document.getElementById('view-web-link-doi-number');
            const viewPages = document.getElementById('view-pages');
            const viewScsCiteScore = document.getElementById('view-scs-cite-score');
            console.log('viewScsCiteScore ===>>>', viewScsCiteScore)
            const viewImpactFactor = document.getElementById('view-impact-factor');
            const viewScsIndexedCategory = document.getElementById('view-scs-indexed-category');
            const viewWosIndexedCategory = document.getElementById('view-wos-indexed-category');
            const viewForeignAuthors = document.getElementById('view-foreign-authors');
            const viewUgcIndexedCategory = document.getElementById('view-ugc-indexed-category');
            const viewDateOfPublishing = document.getElementById('view-date-of-publishing');
            const viewNumberOfForeignAuthors = document.getElementById('view-foreign-authors-number');
            const viewTitle = document.getElementById('view-title-of-paper');
            const viewJournalCategory = document.getElementById('view-journal-category');
            const viewNameStudentAuthor = document.getElementById('view-names-nmims-student-author');
            const viewCountStudentAuthor = document.getElementById('view-no-nmims-student-author');
            
            
            const viewNmimsAuthorsCount = document.getElementById('view-nmims-authors-count');

            fetch('<%- BASE_URL %>research/journal-paper/view', {
                method: 'POST',
                headers: {
                    'content-type': 'application/json'
                },
                body: JSON.stringify({
                    journalPaperId: journalPaperId
                })

            })
                .then((result) => {
                    return result.json();
                })
                .then((data) => {
                    console.log('data is viewing', data);
                    viewYear.innerText = data[0].year;
                    viewAllAuthors.innerText = data[0].all_authors;
                    viewCampus.innerText = data[0].campus;
                    viewTotalAuthors.innerText = data[0].total_authors;
                    viewJournalName.innerText = data[0].journal_name;
                    viewPolicyCadre.innerText = data[0].policy_cadre;
                    viewNmimsAuthors.innerText = data[0].nmims_authors;
                    viewSchool.innerText = data[0].school;
                    viewPublisher.innerText = data[0].publisher;
                    viewCountFaculty.innerText = data[0].count_other_faculty;
                    viewIssNo.innerText = data[0].issn_no;
                    viewAbcdIndexedCategory.innerText = data[0].abdc_indexed;
                    console.log('data[0].web_link_doi_number ===>>>', data[0].web_link_doi_number)
                    viewWebLinkNumber.innerText = data[0].web_link_doi_number;
                    console.log('data[0].pages ===>>>', data[0].pages)
                    viewPages.innerText = data[0].pages;
                    viewScsCiteScore.innerText = data[0].scs_cite_score;
                    viewImpactFactor.innerText = data[0].impact_factor;
                    viewScsIndexedCategory.innerText = data[0].scs_indexed;
                    viewForeignAuthors.innerText = data[0].foreign_authors;
                    viewUgcIndexedCategory.innerText = data[0].ugc_indexed;
                    viewDateOfPublishing.innerText = data[0].to_char;
                    viewTitle.innerText = data[0].title_of_paper;
                    viewJournalCategory.innerText = data[0].journal_category;
                    viewWosIndexedCategory.innerText = data[0].wos_indexed;
                    viewNumberOfForeignAuthors.innerText = data[0].numbers_foreign_authors;
                    viewNmimsAuthorsCount.innerText = data[0].nmims_authors_count;
                    viewNameStudentAuthor.innerText = data[0].names_nmims_student_author;
                    viewCountStudentAuthor.innerText = data[0].no_nmims_student_author;

                }).catch((error) => {
                    console.log('error:', error);

                });
            $('#journal-paper-modal-view').modal('show');
        }

    });

    const updateJournalPaper = async (url) => {
        // for assigning store value in our data base
        const updatedYear = document.getElementById('year').value;
        const updatedSchool = document.getElementById('school').value;
        const updatedCampus = document.getElementById('campus').value;
        const updatedPolicyCadre = document.getElementById('policy-cadre').value;
        const updatedPublisher = document.getElementById('publisher').value;
        const updatedAllAuthor = document.getElementById('all-authors').value;
        const updatedTotalAuthors = document.getElementById('total-authors').value;
        const updatedNmimsAuthors = document.getElementById('nmims-authors').value;
        const updatedJournalName = document.getElementById('journal-name').value;
        const updatedCountOtherFaculty = document.getElementById('count-other-faculty').value;
        const updatedTitleOfPaper = document.getElementById('title-of-paper').value;
        const updatedPages = document.getElementById('pages').value;
        const updatedIssnNo = document.getElementById('issn-no').value;
        const updatedDateOfPublishing = document.getElementById('date-of-publishing').value;
        const updatedImpactFactor = document.getElementById('impact-factor').value;
        const updatedScsCiteScore = document.getElementById('scs-cite-score').value;
        const updatedForeignAuthors = document.getElementById('foreign-authors').value;
        const updatedForeignAuthorsNumbers = document.getElementById('foreign-authors-number').value;
        const updatedNmimsStudentAuthors = document.getElementById('names-nmims-student-author').value;
        const updatedCountNmimsStudentAuthor = document.getElementById('no-nmims-student-author').value
        const updatedWebLinkNumber = document.getElementById('web-link-num').value;
        const updatedNmimsAuthorsCount = document.getElementById('nmims-authors-count').value;
        const updatedScsIndexedCategory = document.querySelector('input[name="scopus-category"]:checked').value
        const updatedAbdcIndexCategory = document.querySelector('input[name="abdc-index-category"]:checked').value;
        const updatedUgcIndexedCategory = document.querySelector('input[name="ugc-index-category"]:checked').value;
        const updatedWosIndexedCategory = document.querySelector('input[name="wos-index-category"]:checked').value;
        console.log('updatedWosIndexedCategory ===>>>>>', updatedWosIndexedCategory)
        const updatedJournalCategory = document.querySelector('input[name="journal-category"]:checked').value;

        let updatedJournalPaperDetails = {};

        updatedJournalPaperDetails.journalPaperId = journalPaperId
        updatedJournalPaperDetails.year = updatedYear
        updatedJournalPaperDetails.school = updatedSchool
        updatedJournalPaperDetails.campus = updatedCampus
        updatedJournalPaperDetails.policyCadre = updatedPolicyCadre
        updatedJournalPaperDetails.publisher = updatedPublisher
        updatedJournalPaperDetails.allAuthors = updatedAllAuthor
        updatedJournalPaperDetails.totalAuthors = updatedTotalAuthors
        updatedJournalPaperDetails.nmimsAuthors = updatedNmimsAuthors
        updatedJournalPaperDetails.journalName = updatedJournalName
        updatedJournalPaperDetails.countOtherFaculty = updatedCountOtherFaculty;
        updatedJournalPaperDetails.titleOfPaper = updatedTitleOfPaper;
        updatedJournalPaperDetails.pages = updatedPages;
        updatedJournalPaperDetails.issnNo = updatedIssnNo;
        updatedJournalPaperDetails.dateOfPublishing = updatedDateOfPublishing;
        updatedJournalPaperDetails.impactFactor = updatedImpactFactor;
        updatedJournalPaperDetails.scsCiteScore = updatedScsCiteScore;
        updatedJournalPaperDetails.wosIndexedCategory = updatedWosIndexedCategory;
        updatedJournalPaperDetails.foreignAuthors = updatedForeignAuthors;
        updatedJournalPaperDetails.abdcIndexedCategory = updatedAbdcIndexCategory;
        updatedJournalPaperDetails.ugcIndexedCategory = updatedUgcIndexedCategory;
        updatedJournalPaperDetails.webLinkNumber = updatedWebLinkNumber;
        updatedJournalPaperDetails.foreignAuthorsNumbers = updatedForeignAuthorsNumbers;
        updatedJournalPaperDetails.journalCategory = updatedJournalCategory;
        updatedJournalPaperDetails.nmimsAuthorsCount = updatedNmimsAuthorsCount;
        updatedJournalPaperDetails.scsIndexedCategory = updatedScsIndexedCategory;
        updatedJournalPaperDetails.nmimsStudentAuthors = updatedNmimsStudentAuthors;
        updatedJournalPaperDetails.countStudentAuthors = updatedCountNmimsStudentAuthor;

        // sending  updated data to database by fetch api for update the value in db
        fetch(url, {
            method: 'post',
            headers: {
                'content-type': 'application/json'
            },
            body: JSON.stringify(updatedJournalPaperDetails)
        })
            .then((result) => {
                return result.json()
            })
            .then((data) => {
                console.log('data ==>>>', data);

                if (data.status === 'Done') {
                    console.log('journalPaperId >>>> ', journalPaperId);
                    rowToBeUpdated.querySelector('.year').innerText = updatedJournalPaperDetails.year;
                    rowToBeUpdated.querySelector('.school').innerText = updatedJournalPaperDetails.school;
                    rowToBeUpdated.querySelector('.campus').innerText = updatedJournalPaperDetails.campus;
                    rowToBeUpdated.querySelector('.all-authors').innerText = updatedJournalPaperDetails.allAuthors;
                    rowToBeUpdated.querySelector('.total-authors').innerText = updatedJournalPaperDetails.totalAuthors;
                    rowToBeUpdated.querySelector('.nmims-authors').innerText = updatedJournalPaperDetails.nmimsAuthors;
                    rowToBeUpdated.querySelector('.journal-name').innerText = updatedJournalPaperDetails.journalName;
                    rowToBeUpdated.querySelector('.policy-cadre').innerText = updatedJournalPaperDetails.policyCadre;
                    rowToBeUpdated.querySelector('.publisher').innerText = updatedJournalPaperDetails.publisher;
                    rowToBeUpdated.setAttribute('data-count-other-faculty', updatedCountOtherFaculty);
                    rowToBeUpdated.setAttribute('data-pages', updatedPages);
                    rowToBeUpdated.setAttribute('data-issn-no', updatedIssnNo);
                    rowToBeUpdated.setAttribute('data-scs-cite-score', updatedScsCiteScore);
                    rowToBeUpdated.setAttribute('data-impact-factor', updatedImpactFactor);
                    rowToBeUpdated.setAttribute('data-scs-indexed', updatedScsIndexedCategory);
                    rowToBeUpdated.setAttribute('data-wos-indexed', updatedWosIndexedCategory);
                    rowToBeUpdated.setAttribute('data-foreign-authors-count', updatedForeignAuthorsNumbers);
                    rowToBeUpdated.setAttribute('data-abdc-indexed', updatedAbdcIndexCategory);
                    rowToBeUpdated.setAttribute('data-ugc-indexed', updatedUgcIndexedCategory);
                    rowToBeUpdated.setAttribute('data-web-link-number', updatedWebLinkNumber);
                    rowToBeUpdated.setAttribute('data-foreign-authors', updatedForeignAuthors);
                    rowToBeUpdated.setAttribute('data-date-of-publishing', updatedDateOfPublishing);
                    rowToBeUpdated.setAttribute('data-title-of-paper', updatedTitleOfPaper);
                    rowToBeUpdated.setAttribute('data-journal-category' , updatedJournalCategory);
                    rowToBeUpdated.setAttribute('data-nmims-author-count', updatedNmimsAuthorsCount);
                    $('#journal-paper-modal').modal('hide');
                    Swal.fire({
                        position: "top-center",
                        icon: "success",
                        title: `${data.message}`,
                        showConfirmButton: false
                        // timer: 1500
                    });
                }
                else{
                    Swal.fire({
                        position: "top-center",
                        icon: "error",
                        title: "Updation Failed",
                        color : "red",
                        with : "20PX",
                        showConfirmButton: false,
                    });
                }
                
                
            })
            .catch((error) => {
                console.log("ERROIR : ", error);
                const errTitle = "Internal Server Error";
                const message = error
                // alert('An error occurred while updating the element');
                Swal.fire({
                        position: "top-center",
                        icon: "error",
                        title: `${message}`,
                        color : "red",
                        with : "20PX",
                        html: `<span style="color: red;">${errTitle}</span>`,
                        showConfirmButton: false,
                    });
                $('#journal-paper-modal').modal('hide');

            })
    }

    updateBtn.addEventListener('click', async () => {
        const isValid = validateRequiredFormFields(document.getElementById('update-btn'));
        if (isValid) {
            await updateJournalPaper('<%- BASE_URL %>research/journal-paper/update');
        }
        else {
            Swal.fire({
                        position: "top-center",
                        icon: "error",
                        title: "Validation Failed",
                        color : "red",
                        showConfirmButton: false,
                    });
        }
    });


    const nmimsSchoolList = document.getElementById('school-data-list').dataset.school;
    const nmimsCampusList = document.getElementById('campus-data-list').dataset.campus;
    const policyCadreList = document.getElementById('policy-cadre-data-list').dataset.policy;
    const impactFactorList = document.getElementById('impact-factor-data-list').dataset.factor;
    const inetrnalnmimsFaculty = document.getElementById('employees-list-data').dataset.employees;
    const allAuthorsList = document.getElementById('all-author-data-list').dataset.author;



    const schoolDataList = JSON.parse(nmimsSchoolList);
    const campusDataList = JSON.parse(nmimsCampusList);
    const policyCadreDataList = JSON.parse(policyCadreList);
    const impactFactorDataList = JSON.parse(impactFactorList);
    const nmimsFacultyDataList = JSON.parse(inetrnalnmimsFaculty);
    const allAuthorDataList = JSON.parse(allAuthorsList);

    // ajax for search bar to search status
    const selectedSchool = schoolDataList.map(school => ({
            value: school.id,
            text: `${school.school_name}`
        }));

    // ajax for search bar to search status
    const selectedCampus = campusDataList.map(campus => ({
            value: campus.id,
            text: `${campus.campus_name}`
        }));

    // ajax for search bar to search policy cadre
    const selectPolicyCadre = policyCadreDataList.map(cadre => ({
            value: cadre.id,
            text: `${cadre.cadre_name}`
        }));

    // ajax for search bar to search impcat factor
    const selectImpcatFactor = impactFactorDataList.map(factor => ({
            value: factor.id,
            text: `${factor.impact_factor}`
        }));

    // ajax for search bar to search impcat factor
    const selectInternalNmimsFaculty = nmimsFacultyDataList.map(faculty => ({
            value: faculty.id,
            text: ` ${faculty.employee_id}  ${faculty.faculty_name}`
        }));

    // ajax for search bar to search all authors
    const selectedAuthors = allAuthorDataList.map(author => ({
            value: author.id,
            text: ` ${author.employee_id}  ${author.faculty_name}`
        }));
    
    new TomSelect("#nmims-campus-list", {
            options: selectedCampus
    });

    new TomSelect("#nmims-school-list", {
            options: selectedSchool
    });

    new TomSelect("#policy-cadre-list", {
            options: selectPolicyCadre
    });

    new TomSelect("#impact-factor-list", {
            options: selectImpcatFactor
    });

    new TomSelect("#internal-faculty-list", {
            options: selectInternalNmimsFaculty
    });

    new TomSelect("#all-author-list", {
            options: selectedAuthors
    });

    // function for invention type drop down list selectedTypeOfInvention
    function handleCampusDropDownList() {
        const selectedValues = Array.from(campusDropDown.options)
                .filter(option => option.selected)
                .map(option => option.value);
                const campusIds = selectedValues.length === 0 ? "" : selectedValues;
            console.log('campusIds ===>>>>>', campusIds);
            if (!nmimsCampusIdsContainer.some(campus => campus === campusIds)) {
                nmimsCampusIdsContainer.push({ 'nmimsCampus' : campusIds});
            }
            console.log(" nmimsCampusIdsContainer ids :", nmimsCampusIdsContainer);
    }

    // function for handleCampusDropDownList drop down list 
    function handlePolicyCadreDropDown() {
        const selectedValues = Array.from(policyCadreDropDown.options)
                .filter(option => option.selected)
                .map(option => option.value);
                const cadreIds = selectedValues.length === 0 ? "" : selectedValues;
            console.log('cadreIds ===>>>>>', cadreIds);
            if (!policyCadreContainer.some(cadre => cadre === cadreIds)) {
                policyCadreContainer.push({ 'policyCadre' : cadreIds});
            }
            console.log(" policyCadreContainer ids :", policyCadreContainer);
    }


    // function for  drop down list policy cadre
    function handleSchoolDropDownList() {
        const selectedValues = Array.from(schoolDropDown.options)
                .filter(option => option.selected)
                .map(option => option.value);
                const schoolIds = selectedValues.length === 0 ? "" : selectedValues;
            console.log('schoolIds ===>>>>>', schoolIds);
            if (!nmimsSchoolIdsContainer.some(school => school === schoolIds)) {
                nmimsSchoolIdsContainer.push({ 'nmimsSchool' : schoolIds});
            }
            console.log("nmimsSchoolIdsContainer ids :", nmimsSchoolIdsContainer);
    }

    // function for drop down list impact factor
    function handleImpactFactorDropDownList() {
        const selectedValues = Array.from(impactFactorDropDown.options)
                .filter(option => option.selected)
                .map(option => option.value);
                const impcatFactorIds = selectedValues.length === 0 ? "" : selectedValues;
            console.log('impcatFactorIds ===>>>>>', impcatFactorIds);
            if (!impactFactorContainer.some(factor => factor === impcatFactorIds)) {
                impactFactorContainer.push({ 'impactFactor' : impcatFactorIds});
            }
            console.log("impactFactorContainer ids :", impactFactorContainer);
    };

    function handleInternalFacultyDropDownList () {
        const selectedValues = Array.from(internalFacultyDropDown.options)
                .filter(option => option.selected)
                .map(option => option.value);
                const internalFacultyIds = selectedValues.length === 0 ? "" : selectedValues;
            console.log('internalFacultyIds ===>>>>>', internalFacultyIds);
            if (!facltyContainer.some(faculty => faculty === internalFacultyIds)) {
                facltyContainer.push({ 'nmimsInternalFaculty' : internalFacultyIds});
            }
            console.log("facltyContainer ids :", facltyContainer);

    }

    function handleAuthorsList () {
        const selectedValues = Array.from(allAuthorsDropDown.options)
                .filter(option => option.selected)
                .map(option => option.value);
                const authorsIds = selectedValues.length === 0 ? "" : selectedValues;
            console.log('authorsIds ===>>>>>', authorsIds);
            if (!impactFactorContainer.some(author => author === authorsIds)) {
                allAuthorContainer.push({ 'authorsList' : authorsIds});
            }
            console.log("allAuthorContainer ids :", allAuthorContainer);

    }

    campusDropDown.addEventListener("change", handleCampusDropDownList);
    schoolDropDown.addEventListener("change", handleSchoolDropDownList);
    policyCadreDropDown.addEventListener("change", handlePolicyCadreDropDown);
    impactFactorDropDown.addEventListener("change" , handleImpactFactorDropDownList);
    allAuthorsDropDown.addEventListener("change", handleAuthorsList);
    internalFacultyDropDown.addEventListener("change", handleInternalFacultyDropDownList);


</script>
<!-- for pagination -->
<%- include('./partials/pagination') %>
<!-- footer section -->
<%- include('./partials/footer') %>
<%- include('./partials/footer-end') %>


